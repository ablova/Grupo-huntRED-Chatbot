# Grupo huntRED¬Æ - Plataforma Inteligente de Reclutamiento, Talento y Automatizaci√≥n

<div align="center">
  <img src="static/images/logo.png" alt="Grupo huntRED¬Æ Logo" width="250">
  <h1>Grupo huntRED¬Æ AI Talent Platform</h1>
  <p>
    <em>Plataforma global de IA para reclutamiento, gesti√≥n de talento, automatizaci√≥n y crecimiento empresarial</em>
    <br>
    <strong>Versi√≥n 4.0 (2025)</strong>
    <br>ai.huntred.com
    ai.huntred.com/admin
  </p>
</div>

---

## üöÄ Descripci√≥n General

Grupo huntRED¬Æ es la plataforma m√°s avanzada del mercado para la gesti√≥n integral de talento, reclutamiento, automatizaci√≥n de procesos, an√°lisis predictivo y experiencia conversacional, con integraci√≥n total de IA, machine learning, seguridad, monetizaci√≥n y escalabilidad global.

- **Arquitectura modular, escalable y segura**
- **Personalizaci√≥n por unidad de negocio (BU)**
- **Automatizaci√≥n inteligente y workflows conversacionales**
- **Integraci√≥n multi-canal y multi-API**
- **Analytics predictivo, gamificaci√≥n y UI/UX de vanguardia**

---

# üèóÔ∏è Arquitectura y M√≥dulos Detallados

## üöÄ Ventajas Competitivas √önicas

### Tecnolog√≠as Propietarias que nos Diferencian

#### 1. **SocialLink‚Ñ¢** - An√°lisis de Redes Sociales Avanzado
- **An√°lisis profundo de LinkedIn, Twitter y redes profesionales**
- **Detecci√≥n de influencia y autoridad en el sector**
- **Mapeo de conexiones estrat√©gicas y networking**
- **Evaluaci√≥n de engagement y reputaci√≥n digital**
- **An√°lisis de patrones de comportamiento online**

#### 2. **TruthSense‚Ñ¢** - Verificaci√≥n de Credenciales Autom√°tica
- **Verificaci√≥n autom√°tica de credenciales acad√©micas**
- **Detecci√≥n de inconsistencias en CVs mediante IA**
- **Validaci√≥n de referencias laborales en tiempo real**
- **An√°lisis de huella digital profesional**
- **Sistema anti-fraude con precisi√≥n del 98%**

#### 3. **SocialVerify‚Ñ¢** - Verificaci√≥n Social Integral
- **Verificaci√≥n de presencia en redes sociales**
- **An√°lisis de reputaci√≥n online y marca personal**
- **Validaci√≥n de proyectos y contribuciones open source**
- **Evaluaci√≥n de consistencia de marca personal**
- **Detecci√≥n de red flags y comportamientos sospechosos**

#### 4. **AURA‚Ñ¢** - Inteligencia Artificial Contextual
- **An√°lisis de trayectoria profesional completa**
- **Detecci√≥n de patrones de √©xito y fracaso**
- **Predicci√≥n de fit cultural y organizacional**
- **Contexto hist√≥rico de la industria y mercado**
- **An√°lisis de relaciones profesionales y networking**

#### 5. **Multi-Jurisdicci√≥n** - Soporte Global
- **Cumplimiento legal por jurisdicci√≥n espec√≠fica**
- **Adaptaci√≥n autom√°tica a regulaciones locales**
- **Soporte multi-idioma y cultural**
- **Conocimiento profundo de mercados locales**
- **Integraci√≥n con sistemas legales locales**

#### 6. **OffLimits‚Ñ¢** - Protecci√≥n de Exclusividad
- **Protecci√≥n autom√°tica de exclusividad**
- **Detecci√≥n de conflictos de inter√©s**
- **Auditor√≠a completa de restricciones**
- **Cumplimiento de acuerdos de confidencialidad**
- **Sistema de alertas y notificaciones autom√°ticas**

### Comparativa de Mercado

| Caracter√≠stica | Grupo huntRED¬Æ | Holly AI | Hiring Agents |
|----------------|----------------|----------|---------------|
| An√°lisis de Redes Sociales | SocialLink‚Ñ¢ Avanzado | B√°sico | Limitado |
| Verificaci√≥n de Credenciales | TruthSense‚Ñ¢ Autom√°tico | Manual | B√°sico |
| IA Contextual | AURA‚Ñ¢ Completo | ChatGPT | B√°sico |
| Protecci√≥n OffLimits | Sistema Completo | No disponible | No disponible |
| Multi-Jurisdicci√≥n | Soporte Completo | Limitado | Limitado |
| Integraci√≥n ATS | Nativa Avanzada | API B√°sica | Limitada |

**Puntuaci√≥n Total:**
- **Grupo huntRED¬Æ: 30/30** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- **Holly AI: 13/30** ‚≠ê‚≠ê
- **Hiring Agents: 9/30** ‚≠ê

## Diagrama Macro de Interacci√≥n de M√≥dulos

```mermaid
flowchart TD
  CORE["CORE\n- Autenticaci√≥n\n- Configuraci√≥n\n- Seguridad"]
  ATS["ATS\n- Chatbot\n- Publish\n- Payments\n- Notifications\n- Proposals\n- Feedback & Assessments\n- Referral\n- Gamificaci√≥n"]
  ML["Machine Learning & IA\n- GenIA\n- AURA\n- Gamification Analytics"]
  INTEGRACIONES["Integraciones & APIs"]
  UIUX["UI/UX Moderno"]
  SEGURIDAD["Seguridad & Compliance"]
  ESCALABILIDAD["Escalabilidad Global"]
  INFRA["Infraestructura & Tecnolog√≠a"]

  CORE --> ATS
  CORE --> ML
  CORE --> INTEGRACIONES
  CORE --> UIUX
  CORE --> SEGURIDAD
  CORE --> ESCALABILIDAD
  CORE --> INFRA
  ATS --> ML
  ATS --> INTEGRACIONES
  ATS --> UIUX
  ATS --> SEGURIDAD
  ATS --> ESCALABILIDAD
  ATS --> INFRA
  ML --> INTEGRACIONES
  ML --> UIUX
  ML --> SEGURIDAD
  ML --> ESCALABILIDAD
  ML --> INFRA
  INTEGRACIONES --> UIUX
  INTEGRACIONES --> SEGURIDAD
  INTEGRACIONES --> ESCALABILIDAD
  INTEGRACIONES --> INFRA
  UIUX --> SEGURIDAD
  UIUX --> ESCALABILIDAD
  UIUX --> INFRA
  SEGURIDAD --> ESCALABILIDAD
  SEGURIDAD --> INFRA
  ESCALABILIDAD --> INFRA
```

---

## 1. CORE
- **Autenticaci√≥n y autorizaci√≥n:** Login, registro, recuperaci√≥n, MFA, gesti√≥n de sesiones, roles y permisos avanzados.
- **Configuraci√≥n global:** Par√°metros de sistema, logging, monitoreo, auditor√≠a, settings por BU.
- **Seguridad avanzada:** Encriptaci√≥n, hash, detecci√≥n de amenazas, cumplimiento normativo, pol√≠ticas de acceso.

---

## 2.X Subm√≥dulos ATS: Desglose y Profundizaci√≥n

### 2.1 Chatbot Conversacional
**Descripci√≥n extendida:**
Chatbot multicanal con IA h√≠brida (NLP local + GPT), workflows din√°micos, contexto persistente, integraci√≥n con assessments, notificaciones y gamificaci√≥n. Soporta flujos por BU, onboarding, entrevistas, feedback, y seguimiento automatizado.

**Arquitectura del Sistema Chatbot (app/ats/chatbot/)**

El sistema Chatbot est√° dise√±ado con una arquitectura modular altamente escalable:

1. **Core (app/ats/chatbot/core/):**
   - `conversation_manager.py`: Gestiona el ciclo de vida completo de conversaciones
   - `intent_processor.py`: Procesa y clasifica intenciones del usuario
   - `context_manager.py`: Mantiene el contexto conversacional
   - `entity_extractor.py`: Extrae entidades y datos estructurados de mensajes
   - `gpt.py`: Integraci√≥n con motores GPT para procesamiento avanzado
   - `intents_handler.py`: Gestiona respuestas seg√∫n la intenci√≥n detectada

2. **NLP (app/ats/chatbot/nlp/):**
   - `text_processor.py`: Preprocesamiento de texto (normalizaci√≥n, tokenizaci√≥n)
   - `intent_classifier.py`: Clasificaci√≥n de intenciones mediante ML
   - `entity_recognition.py`: Reconocimiento de entidades nombradas (NER)
   - `sentiment_analyzer.py`: An√°lisis de sentimiento en mensajes
   - `language_detector.py`: Detecci√≥n autom√°tica de idioma

3. **Flow (app/ats/chatbot/flow/):**
   - `flow_manager.py`: Orquestador de flujos conversacionales
   - `flow_builder.py`: Constructor de flujos din√°micos
   - `flow_validator.py`: Validaci√≥n de integridad de flujos
   - `state_machine.py`: M√°quina de estados para navegaci√≥n de flujos
   - `flow_templates.py`: Plantillas predefinidas para flujos comunes

4. **Handlers (app/ats/chatbot/handlers/):**
   - `channel_handler.py`: Gesti√≥n abstracta de canales
   - `whatsapp_handler.py`: Manejo espec√≠fico de WhatsApp
   - `telegram_handler.py`: Manejo espec√≠fico de Telegram
   - `web_handler.py`: Manejo espec√≠fico de interfaz web
   - `fallback_handler.py`: Sistema de derivaci√≥n a humano

5. **Integrations (app/ats/chatbot/integrations/):**
   - `assessment_integration.py`: Conexi√≥n con sistema de evaluaciones
   - `notification_integration.py`: Integraci√≥n con sistema de notificaciones
   - `ml_integration.py`: Integraci√≥n con m√≥dulos ML (GenIA/AURA)
   - `gamification_integration.py`: Integraci√≥n con sistema de gamificaci√≥n
   - `calendar_integration.py`: Integraci√≥n con sistemas de calendario

6. **Workflow (app/ats/chatbot/workflow/):**
   - `workflow_engine.py`: Motor de ejecuci√≥n de workflows
   - `workflow_designer.py`: Herramientas para dise√±o de workflows
   - `trigger_manager.py`: Gesti√≥n de disparadores de workflow
   - `action_executor.py`: Ejecutor de acciones programadas
   - `condition_evaluator.py`: Evaluador de condiciones y reglas

**Flujos y mejores pr√°cticas:**
- Definir intents y entidades por BU y rol.
- Mantener contexto de usuario y estado conversacional.
- Integrar fallback a humano y logs de conversaci√≥n.
- Usar triggers para disparar notificaciones, assessments y workflows.

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| POST   | /api/chatbot/message/                 | Enviar/recibir mensaje             |
| GET    | /api/chatbot/conversations/           | Listar conversaciones              |
| POST   | /api/chatbot/trigger/                 | Disparar workflow                  |

**Requerimientos de datos:**
- Tabla conversations: id, user_id, channel, started_at, ended_at, status.
- Tabla messages: id, conversation_id, sender, content, timestamp, intent, score.

**Ejemplo de payload:**
```json
{
  "conversation_id": 42,
  "message": "Quiero aplicar a la vacante de Data Scientist",
  "channel": "WhatsApp"
}
```

**Relaci√≥n con otros m√≥dulos:**
- Dispara notificaciones, assessments, workflows y gamificaci√≥n.
- Alimenta m√©tricas y segmentaci√≥n para Publish y ML.

---

### 2.2 Publish (ver secci√≥n 13.18 para detalle extendido)

**Descripci√≥n extendida:**
Motor centralizado para la gesti√≥n, calendarizaci√≥n y automatizaci√≥n de campa√±as multicanal, con integraci√≥n de IA, retargeting, plantillas din√°micas y m√©tricas avanzadas.

**Arquitectura del Sistema Publish (app/ats/publish/)**

El sistema Publish est√° estructurado con una arquitectura modular y escalable:

1. **Core (app/ats/publish/core/):**
   - `campaign_manager.py`: Gestor central de campa√±as multicanal
   - `calendar_service.py`: Servicio de calendarizaci√≥n y programaci√≥n
   - `approval_workflow.py`: Flujos de aprobaci√≥n y firma digital
   - `budget_manager.py`: Gesti√≥n de presupuestos y optimizaci√≥n de gastos
   - `version_control.py`: Control de versiones de campa√±as y contenidos
   - `metrics_collector.py`: Recopilador centralizado de m√©tricas

2. **Content (app/ats/publish/content/):**
   - `content_manager.py`: Gestor de contenidos para m√∫ltiples canales
   - `template_engine.py`: Motor de plantillas personalizables
   - `dynamic_content.py`: Generador de contenido din√°mico
   - `media_processor.py`: Procesador de im√°genes y medios
   - `content_validator.py`: Validaci√≥n y optimizaci√≥n de contenido

3. **Segmentation (app/ats/publish/segmentation/):**
   - `segment_manager.py`: Gestor de segmentos de audiencia
   - `targeting_engine.py`: Motor de targeting inteligente
   - `audience_builder.py`: Constructor de audiencias
   - `criteria_evaluator.py`: Evaluador de criterios de segmentaci√≥n
   - `ml_integration.py`: Integraci√≥n con AURA para segmentaci√≥n avanzada

4. **Integrations (app/ats/publish/integrations/):**
   - `linkedin_publisher.py`: Integraci√≥n con LinkedIn
   - `email_sender.py`: Sistema de env√≠o de correo electr√≥nico
   - `web_publisher.py`: Publicaci√≥n en sitios web y landing pages
   - `social_media.py`: Integraci√≥n con redes sociales
   - `job_boards.py`: Publicaci√≥n en bolsas de trabajo
   - `messaging_integration.py`: Integraci√≥n con sistemas de mensajer√≠a internos

5. **Retargeting (app/ats/publish/retargeting/):**
   - `retargeting_engine.py`: Motor de retargeting
   - `audience_tracker.py`: Seguimiento de audiencias
   - `conversion_optimizer.py`: Optimizador de conversiones
   - `channel_selector.py`: Selector inteligente de canales
   - `frequency_manager.py`: Gestor de frecuencia de contacto

6. **Services (app/ats/publish/services/):**
   - `analytics_service.py`: Servicio de anal√≠tica avanzada
   - `reporting_service.py`: Generaci√≥n de reportes personalizados
   - `notification_service.py`: Servicio de notificaciones
   - `recommendation_service.py`: Recomendaciones de optimizaci√≥n
   - `sync_service.py`: Sincronizaci√≥n entre canales y plataformas

**Flujos y mejores pr√°cticas:**
- Definir objetivos, segmentos y canales antes de dise√±ar campa√±as
- Utilizar plantillas din√°micas y contenido personalizado
- Implementar calendarizaci√≥n y fases de campa√±a
- Monitorear m√©tricas en tiempo real y optimizar continuamente
- Mantener flujos de aprobaci√≥n y auditor√≠a

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|  
| GET    | /api/publish/campaigns/               | Listar campa√±as                    |
| POST   | /api/publish/campaigns/               | Crear campa√±a                      |
| POST   | /api/publish/campaigns/{id}/launch/   | Lanzar campa√±a                     |
| GET    | /api/publish/campaigns/{id}/metrics/  | M√©tricas de campa√±a               |

**Requerimientos de datos:**
- Tabla campaigns: id, name, status, bu_id, created_by, start_date, end_date
- Tabla campaign_content: id, campaign_id, channel, content, template_id
- Tabla campaign_segments: id, campaign_id, segment_id, targeting_rules

**Ejemplo de payload:**
```json
{
  "name": "Lanzamiento Data Science Q3",
  "segments": [5, 8],
  "channels": ["linkedin", "email", "web"],
  "start_date": "2025-07-15T10:00:00"
}
```

**Relaci√≥n con otros m√≥dulos:**
- Integra con GenIA para generaci√≥n de contenido
- Utiliza AURA para segmentaci√≥n avanzada y retargeting
- Dispara workflows, notificaciones y assessments
- Alimenta m√©tricas y reportes de negocio

---

### 2.3 Payments
**Descripci√≥n extendida:**
Gesti√≥n de transacciones, suscripciones, facturaci√≥n y conciliaci√≥n con Stripe, PayPal y bancos. Soporta pricing din√°mico, reporting financiero y recomendaciones de monetizaci√≥n.

**Flujos y mejores pr√°cticas:**
- Validar m√©todos de pago y conciliaci√≥n autom√°tica.
- Automatizar facturaci√≥n y reporting.
- Monitorear logs de transacciones y alertas de fraude.

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| POST   | /api/payments/charge/                 | Procesar pago                      |
| GET    | /api/payments/invoices/               | Listar facturas                    |
| GET    | /api/payments/transactions/           | Listar transacciones               |

**Requerimientos de datos:**
- Tabla payments: id, user_id, amount, method, status, created_at.
- Tabla invoices: id, payment_id, pdf_url, status, issued_at.

**Ejemplo de payload:**
```json
{
  "user_id": 101,
  "amount": 299.99,
  "method": "stripe"
}
```

**Relaci√≥n con otros m√≥dulos:**
- Dispara notificaciones y workflows de upgrade/cancelaci√≥n.
- Alimenta m√©tricas de revenue y reporting global.

---

### 2.4 Notifications (ver secci√≥n 13.19 para detalle extendido)

**Descripci√≥n extendida:**
Gesti√≥n de alertas y notificaciones autom√°ticas multicanal (email, chat, SMS, push, Slack) con tracking de entregas, templating avanzado y reglas de distribuci√≥n inteligentes. Soporta notificaciones en tiempo real, programadas y condicionadas por eventos.

**Arquitectura del Sistema de Notificaciones**

El sistema de notificaciones est√° estructurado con una arquitectura altamente modular:

1. **Core (app/ats/notifications/)**
   - `core.py`: N√∫cleo central del sistema de notificaciones
   - `notification_manager.py`: Gestor unificado de notificaciones
   - `strategic_notifications.py`: Notificaciones estrat√©gicas basadas en reglas de negocio

2. **Canales (app/ats/integrations/notifications/channels/)**
   - `base.py`: Clase base abstracta para todos los canales
   - `email.py`: Canal para notificaciones por correo electr√≥nico
   - `slack.py`: Canal para notificaciones a trav√©s de Slack
   - `whatsapp.py`: Canal para notificaciones v√≠a WhatsApp
   - `telegram.py`: Canal para notificaciones a trav√©s de Telegram
   - `sms.py`: Canal para notificaciones SMS usando el sistema interno de mensajer√≠a
   - `instagram.py`: Canal para notificaciones v√≠a Instagram
   - `messenger.py`: Canal para notificaciones a trav√©s de Messenger
   - `linkedin.py`: Canal para notificaciones en LinkedIn
   - `x.py`: Canal para notificaciones en X (anteriormente Twitter)

3. **Servicios (app/ats/integrations/notifications/services/)**
   - `notification_service.py`: Servicio principal de notificaciones
   - `template_service.py`: Gesti√≥n de plantillas para notificaciones
   - `scheduler_service.py`: Programaci√≥n y calendarizaci√≥n de notificaciones
   - `tracking_service.py`: Seguimiento de entregas y an√°lisis de efectividad
   - `rule_engine.py`: Motor de reglas para env√≠o condicional

4. **Procesamiento (app/ats/integrations/notifications/process/)**
   - `notification_processor.py`: Procesador central de notificaciones
   - `priority_handler.py`: Gesti√≥n de prioridades y criticidad
   - `rate_limiter.py`: Control de frecuencia de notificaciones
   - `batch_processor.py`: Procesador de notificaciones masivas
   - `throttling_service.py`: Servicio de limitaci√≥n inteligente

5. **Destinatarios (app/ats/integrations/notifications/recipients/)**
   - `recipient_manager.py`: Gesti√≥n de destinatarios y grupos
   - `preference_manager.py`: Gesti√≥n de preferencias de notificaci√≥n
   - `contact_resolver.py`: Resoluci√≥n de informaci√≥n de contacto
   - `opt_out_manager.py`: Gesti√≥n de bajas y preferencias de no recepci√≥n
   - `group_manager.py`: Gesti√≥n de grupos y roles para notificaciones

6. **Plantillas (app/ats/integrations/notifications/templates/)**
   - `template_manager.py`: Gesti√≥n de plantillas
   - `template_renderer.py`: Renderizador de contenido din√°mico
   - `personalization_engine.py`: Motor de personalizaci√≥n
   - `multilingual_support.py`: Soporte multiidioma
   - `media_attachment.py`: Gesti√≥n de adjuntos y contenido multimedia

**Flujos y mejores pr√°cticas:**
- Utilizar plantillas est√°ndar y personalizaci√≥n din√°mica
- Configurar canales prioritarios y canales de respaldo
- Respetar preferencias de usuario y horarios adecuados
- Monitorear tasas de entrega, apertura y respuesta
- Implementar throttling para evitar saturaci√≥n

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|  
| GET    | /api/notifications/                   | Listar notificaciones              |
| POST   | /api/notifications/                   | Enviar notificaci√≥n                |
| GET    | /api/notifications/templates/         | Listar plantillas                  |
| POST   | /api/notifications/bulk/              | Env√≠o masivo                      |

**Requerimientos de datos:**
- Tabla notifications: id, recipient_id, channel, template_id, status, payload, sent_at
- Tabla notification_templates: id, name, type, content, variables, channel
- Tabla notification_preferences: user_id, channel, enabled, quiet_hours

**Ejemplo de payload:**
```json
{
  "recipient_id": 1045,
  "template_id": 8,
  "channel": "email",
  "variables": {
    "nombre": "Carlos",
    "evento": "Entrevista T√©cnica",
    "fecha": "2025-07-15T14:30:00"
  },
  "priority": "high"
}
```

**Relaci√≥n con otros m√≥dulos:**
- Integra con todos los m√≥dulos principales del sistema
- Es disparado por eventos de Chatbot, Publish, Payments y Assessments
- Alimenta logs, an√°lisis y reportes de engagement

---

### 2.5 Proposals
**Descripci√≥n extendida:**
Generaci√≥n, negociaci√≥n y firma electr√≥nica de propuestas comerciales y t√©cnicas. Soporta seguimiento de estado, comentarios, cambios y documentaci√≥n legal.

**Flujos y mejores pr√°cticas:**
- Usar plantillas para propuestas recurrentes.
- Automatizar seguimiento y recordatorios.
- Integrar firma digital y logs de cambios.

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| POST   | /api/proposals/                       | Crear propuesta                    |
| GET    | /api/proposals/{id}/                  | Detalle de propuesta               |
| POST   | /api/proposals/{id}/sign/             | Firmar propuesta                   |

**Requerimientos de datos:**
- Tabla proposals: id, client_id, status, created_at, updated_at, signed_at.
- Tabla proposal_comments: id, proposal_id, user_id, comment, timestamp.

**Ejemplo de payload:**
```json
{
  "client_id": 55,
  "template_id": 3,
  "custom_fields": {"precio": 12000, "plazo": "30 d√≠as"}
}
```

**Relaci√≥n con otros m√≥dulos:**
- Dispara notificaciones y workflows de aprobaci√≥n/firma.
- Alimenta m√©tricas de conversi√≥n y revenue.

---

### 2.6 Feedback & Assessments (ver secci√≥n 13.22 para detalle extendido)

**Descripci√≥n extendida:**
Sistema integral de evaluaciones t√©cnicas, psicom√©tricas, culturales y feedback 360¬∞, con scoring autom√°tico e integraci√≥n con analyzers ML. Soporta evaluaciones personalizadas por BU, rol y nivel, con procesos de seguimiento y recordatorios autom√°ticos.

**Arquitectura del Sistema Feedback & Assessments**

El sistema est√° estructurado con una arquitectura modular:

1. **Core (app/ats/feedback/)**
   - `feedback_models.py`: Modelos de datos para evaluaciones y feedback
   - `feedback_forms.py`: Generaci√≥n y validaci√≥n de formularios
   - `feedback_views.py`: Vistas para la interacci√≥n con evaluaciones
   - `process_views.py`: Vistas para procesamiento de resultados
   - `views.py`: Vistas generales del sistema

2. **Seguimiento y Recordatorios**
   - `completion_tracker.py`: Monitoreo de finalizaci√≥n de evaluaciones
   - `ongoing_tracker.py`: Seguimiento de evaluaciones en curso
   - `reminder_system.py`: Sistema de recordatorios autom√°ticos

3. **Integraci√≥n**
   - `signals.py`: Se√±ales para procesos autom√°ticos
   - `tasks.py`: Tareas programadas y as√≠ncronas
   - `celery_config.py`: Configuraci√≥n para procesamiento en background

**Flujos y mejores pr√°cticas:**
- Dise√±ar evaluaciones con objetivos claros y medibles
- Configurar recordatorios autom√°ticos para maximizar tasas de completitud
- Mantener hist√≥rico para an√°lisis longitudinal
- Validar resultados con revisi√≥n humana
- Retroalimentar analyzers ML con resultados para mejorar precisi√≥n

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|  
| GET    | /api/assessments/                     | Listar evaluaciones                |
| POST   | /api/assessments/                     | Crear evaluaci√≥n                   |
| POST   | /api/assessments/{id}/submit/         | Enviar respuestas                  |
| GET    | /api/assessments/{id}/results/        | Obtener resultados y scoring       |

**Requerimientos de datos:**
- Tabla assessments: id, candidate_id, type, status, created_at, updated_at
- Tabla assessment_questions: id, assessment_id, question_id, respuesta, score
- Tabla feedback: id, provider_id, subject_id, type, content, rating, timestamp

**Ejemplo de payload:**
```json
{
  "assessment_id": 456,
  "candidate_id": 789,
  "answers": [
    {"question_id": 1, "answer": "SELECT * FROM users WHERE status = 'active';"},
    {"question_id": 2, "answer": "React.useEffect(() => {}, []);"},
    {"question_id": 3, "answer": 4}
  ],
  "time_taken": 1250
}
```

**Relaci√≥n con otros m√≥dulos:**
- Integra directamente con Analyzers ML para scoring avanzado
- Alimenta el perfil ML de candidatos y campa√±as
- Dispara workflows, notificaciones y actualizaciones de perfiles
### 2.7 Referral
**Descripci√≥n extendida:**
Sistema de referidos con invitaciones, tracking, recompensas y analytics. Soporta campa√±as de referidos, ranking y gamificaci√≥n, con integraci√≥n multicanal para m√°xima difusi√≥n y efectividad.

**Arquitectura del Sistema Referral**

El sistema est√° estructurado con una arquitectura centrada en conversiones:

1. **Core (app/ats/referrals/)**
   - `models.py`: Modelos de datos para referidos y recompensas
   - `views.py`: Vistas para la interfaz de usuario y API
   - `urls.py`: Rutas y endpoints del sistema
   - `admin.py`: Configuraci√≥n de panel administrativo
   - `forms.py`: Formularios para creaci√≥n y gesti√≥n de referidos

2. **Servicios y Procesamiento**
   - `services.py`: L√≥gica de negocio y flujos de trabajo
   - `signals.py`: Se√±ales para procesamiento autom√°tico

3. **Plantillas**
   - `templates/referrals/create.html`: Interfaz para creaci√≥n de referidos
   - `templates/referrals/dashboard.html`: Panel de control y estad√≠sticas
   - `templates/referrals/detail.html`: Vista detallada de referido

**Caracter√≠sticas principales:**

1. **Sistema de Invitaciones**
   - Generaci√≥n de enlaces √∫nicos de referido
   - Distribuci√≥n multicanal (email, WhatsApp, SMS, redes sociales)
   - Personalizaci√≥n de mensajes por canal y segmento

2. **Tracking Avanzado**
   - Seguimiento en tiempo real de conversiones
   - An√°lisis de rendimiento por canal y campa√±a
   - Atribuci√≥n precisa de conversiones

3. **Sistema de Recompensas**
   - Recompensas monetarias y no monetarias
   - Niveles de referido (b√°sico, plata, oro, platino)
   - Bonificaciones por hitos y campa√±as especiales

4. **Analytics y Reportes**
   - Dashboard en tiempo real
   - Leaderboards y rankings
   - Exportaci√≥n de informes personalizados

**Flujos y mejores pr√°cticas:**
- Automatizar invitaciones y tracking de referidos
- Configurar recompensas escalonadas para maximizar conversi√≥n
- Implementar recordatorios autom√°ticos para referidos pendientes
- Monitorear conversiones y ranking en tiempo real
- Analizar rendimiento por canal y ajustar estrategias

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|  
| POST   | /api/referral/invite/                 | Enviar invitaci√≥n                  |
| GET    | /api/referral/track/                  | Tracking de referidos              |
| GET    | /api/referral/leaderboard/            | Ranking de referidos               |
| POST   | /api/referral/reward/claim/           | Reclamar recompensa                |
| GET    | /api/referral/analytics/              | Estad√≠sticas de rendimiento       |

**Requerimientos de datos:**
- Tabla referrals: id, referrer_id, referred_id, status, channel, invited_at, converted_at
- Tabla rewards: id, referral_id, type, value, status, issued_at, claimed_at
- Tabla referral_campaigns: id, name, start_date, end_date, rules, rewards_config

**Ejemplo de payload:**
```json
{
  "referrer_id": 12,
  "emails": ["contact1@example.com", "contact2@example.com"],
  "phone_numbers": ["+525512345678", "+525587654321"],
  "message": "Te invito a unirte a esta incre√≠ble plataforma",
  "campaign_id": 5,
  "channels": ["email", "whatsapp"],
  "custom_link": "https://plataforma.com/r/ABC123"
}
```

---

**Relaci√≥n con otros m√≥dulos:**
- Dispara notificaciones y gamificaci√≥n.
- Alimenta m√©tricas de conversi√≥n y engagement.

---

### 2.8 Gamificaci√≥n
**Descripci√≥n extendida:**
Sistema de engagement y motivaci√≥n basado en gamificaci√≥n: puntos, insignias, niveles, leaderboards y recompensas. Integrado con referidos, asessments y feedback para potenciar la participaci√≥n y fidelizaci√≥n de usuarios en todo el ecosistema.

**Arquitectura del Sistema de Gamificaci√≥n**

El sistema est√° estructurado con una arquitectura event-driven:

1. **Core (app/ats/gamification/)**
   - `models.py`: Modelos de datos para puntos, insignias, niveles y recompensas
   - `views.py`: Vistas para la interfaz de usuario y API
   - `rules.py`: Reglas de gamificaci√≥n y l√≥gica de eventos
   - `badges.py`: Definici√≥n y gesti√≥n de insignias
   - `rewards.py`: Sistema de recompensas y canje

2. **Procesamiento y Eventos**
   - `event_processor.py`: Procesamiento de eventos del sistema
   - `point_calculator.py`: L√≥gica de c√°lculo de puntos
   - `level_manager.py`: Gesti√≥n de niveles y progreso
   - `achievement_tracker.py`: Seguimiento de logros y desbloqueo de insignias

3. **Integraci√≥n**
   - `signals.py`: Listeners para eventos del sistema
   - `hooks.py`: Puntos de integraci√≥n con otros m√≥dulos
   - `notifications.py`: Notificaciones de gamificaci√≥n

**Caracter√≠sticas principales:**

1. **Sistema de Puntos**
   - Asignaci√≥n din√°mica basada en acciones del usuario
   - M√∫ltiples categor√≠as de puntos (engagement, calidad, velocidad)
   - Historial detallado de actividad y puntuaci√≥n

2. **Insignias y Logros**
   - M√°s de 30 insignias desbloqueables
   - Progresiones escalonadas (bronce, plata, oro, platino)
   - Insignias especiales por campa√±as o eventos temporales

3. **Niveles y Progresi√≥n**
   - Sistema de niveles con requisitos incrementales
   - Desbloqueo de funcionalidades por nivel
   - Visualizaci√≥n clara del progreso y siguientes hitos

4. **Leaderboards**
   - Rankings globales, por empresa y por departamento
   - Competiciones temporales y por categor√≠as
   - Filtros personalizables y timeframes variables

5. **Recompensas**
   - Cat√°logo de recompensas canjeables
   - Recompensas virtuales y f√≠sicas
   - Sistema de gesti√≥n de inventario y entrega

**Flujos y mejores pr√°cticas:**
- Configurar reglas de puntuaci√≥n y niveles adaptados a objetivos de negocio
- Definir insignias y logros alcanzables pero desafiantes
- Personalizar recompensas por nivel y segmento de usuario
- Medir engagement, retenci√≥n y correlaci√≥n con KPIs de negocio
- Mantener el balance entre competencia y colaboraci√≥n
- Actualizar regularmente insignias y recompensas para mantener inter√©s

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|  
| GET    | /api/gamification/profile/            | Perfil de gamificaci√≥n            |
| GET    | /api/gamification/leaderboard/        | Ranking global                     |
| POST   | /api/gamification/claim-reward/       | Reclamar recompensa                |
| GET    | /api/gamification/badges/             | Listar insignias disponibles       |
| GET    | /api/gamification/rewards/            | Cat√°logo de recompensas           |
| GET    | /api/gamification/history/            | Historial de actividad             |

**Requerimientos de datos:**
- Tabla user_points: id, user_id, category, amount, reason, timestamp
- Tabla badges: id, name, description, image_url, requirements, category, level
- Tabla user_badges: id, user_id, badge_id, earned_at
- Tabla user_level: id, user_id, current_level, total_points, next_level_at
- Tabla rewards: id, name, description, image_url, cost, stock, type
- Tabla user_rewards: id, user_id, reward_id, claimed_at, status, delivery_info

**Ejemplo de payload:**
```json
{
  "user_id": 34,
  "event_type": "assessment_completed",
  "event_data": {
    "assessment_id": 789,
    "score": 95,
    "time_taken": 1250,
    "difficulty": "hard"
  },
  "timestamp": "2025-07-01T15:30:45Z"
}
```

**Relaci√≥n con otros m√≥dulos:**
- Recibe eventos de Assessments, Feedback y Referrals para otorgar puntos e insignias
- Alimenta el perfil ML para recomendaciones personalizadas de contenido y oportunidades
- Integra con Notifications para alertas de logros y recompensas disponibles
- Proporciona datos para analytics y optimizaci√≥n de campa√±as
- Se alimenta de acciones en Chatbot, Publish, Referral y Assessments
- Alimenta dashboards de engagement y retenci√≥n

---

## 3.X Subm√≥dulos ML: Desglose y Profundizaci√≥n

### 3.1 GenIA
**Descripci√≥n extendida:**
Motor de generaci√≥n de contenido inteligente (textos, emails, posts, landing pages, preguntas de assessment, etc.) usando NLP avanzado y modelos generativos. Soporta personalizaci√≥n por BU, canal, idioma y fase de campa√±a.

**Arquitectura de GenIA (app/ml/)**

GenIA est√° organizado en varios m√≥dulos especializados:

1. **Core (app/ml/core/):**
   - `async_processing.py`: Manejo de procesamiento as√≠ncrono para tareas de ML intensivas
   - `data_cleaning.py`: Limpieza y normalizaci√≥n de datos previo al procesamiento
   - `job_description_generator.py`: Generador de descripciones de trabajo personalizadas
   - `content_optimizer.py`: Optimizaci√≥n de contenido generado para m√°ximo engagement
   - `template_engine.py`: Motor de plantillas din√°micas con variables contextuales
   - `multilingual_processor.py`: Procesamiento multiidioma con traducciones autom√°ticas

2. **Analyzers (app/ml/analyzers/):** Conjunto de 29 analizadores especializados
   - `base_analyzer.py` y `base.py`: Clases base para todos los analizadores
   - Analizadores especializados como:
     - `personality_analyzer.py`: An√°lisis de personalidad
     - `professional_analyzer.py`: Evaluaci√≥n profesional
     - `cultural_analyzer.py`: Compatibilidad cultural
     - `talent_analyzer.py`: Evaluaci√≥n de talento
     - `dei_analyzer.py`: An√°lisis de diversidad, equidad e inclusi√≥n
     - `motivational_analyzer.py`: An√°lisis de factores motivacionales
     - `integrated_analyzer.py`: Orquestaci√≥n de m√∫ltiples analizadores
   - `assessment_registry.py` y `register_assessments.py`: Sistema de registro y gesti√≥n de evaluaciones

3. **Metrics (app/ml/metrics/):**
   - `skill_metrics.py`: Evaluaci√≥n cuantitativa de habilidades y competencias
   - `engagement_metrics.py`: M√©tricas de engagement y efectividad del contenido
   - `conversion_metrics.py`: Seguimiento de conversiones generadas por contenido
   - `quality_metrics.py`: Evaluaci√≥n autom√°tica de calidad del contenido generado

4. **Data (app/ml/data/):**
   - `data_loader.py`: Carga y preprocesamiento de datos para modelos de ML
   - `data_augmentation.py`: Aumento y enriquecimiento de datos para entrenamiento
   - `feature_extraction.py`: Extracci√≥n de caracter√≠sticas para modelos predictivos
   - `embedding_manager.py`: Gesti√≥n de embeddings para representaci√≥n sem√°ntica

5. **Monitoring (app/ml/monitoring/):**
   - `metrics.py`: Sistema de monitoreo de rendimiento para modelos de ML
   - `drift_detection.py`: Detecci√≥n de drift en datos y modelos
   - `explainability.py`: Herramientas de explicabilidad para decisiones de modelos

**Flujos y mejores pr√°cticas:**
- Usar plantillas din√°micas y variables contextuales.
- Validar outputs antes de publicar.
- Monitorear logs de generaci√≥n y feedback de usuarios.

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| POST   | /api/genia/generate/                  | Generar contenido                  |
| GET    | /api/genia/templates/                 | Listar plantillas                  |

**Requerimientos de datos:**
- Tabla genia_templates: id, name, content, channel, bu, language.
- Tabla genia_logs: id, template_id, user_id, output, created_at.

**Ejemplo de payload:**
```json
{
  "template_id": 5,
  "variables": {"nombre": "Ana", "vacante": "Data Scientist"}
}
```

**Relaci√≥n con otros m√≥dulos:**
- Alimenta Publish, Chatbot, Assessments y Notificaciones.
- Se retroalimenta con feedback y m√©tricas de engagement.

---

### 3.2 AURA
**Descripci√≥n extendida:**
Motor de segmentaci√≥n avanzada y anal√≠tica predictiva. Realiza clustering, scoring, recomendaciones y retargeting inteligente. Soporta segmentaci√≥n demogr√°fica, profesional, comportamental y predictiva.

**Arquitectura del Sistema AURA (app/ml/aura/)**

AURA est√° estructurado como un sistema modular de alta complejidad con los siguientes componentes:

1. **N√∫cleo Principal (app/ml/aura/)**
   - `core.py`: Motor principal que coordina todos los componentes del sistema AURA
     - `AuraEngine`: Clase principal con m√©todos para an√°lisis hol√≠stico
     - `AuraAnalysisType`: Enumeraci√≥n de tipos de an√°lisis (compatibility, energy_match, vibrational_alignment, etc.)
   - `orchestrator.py`: Orquestador de flujos de an√°lisis y procesos
   - `integration_layer.py`: Capa de integraci√≥n con el sistema principal huntRED
   - `compatibility_engine.py`: Motor de evaluaci√≥n de compatibilidad
   - `recommendation_engine.py`: Sistema de recomendaciones inteligentes
   - `aura_metrics.py`: M√©tricas espec√≠ficas para evaluaci√≥n de aura

2. **Motores Especializados**
   - `energy_analyzer.py`: Analizador de patrones energ√©ticos
   - `vibrational_matcher.py`: Evaluador de compatibilidad vibracional
   - `holistic_assessor.py`: Evaluaci√≥n integral multidimensional
   - `graph_builder.py`: Constructor de grafos de relaci√≥n y compatibilidad

3. **Core √âtico (app/ml/aura/core/)**
   - `bias_detection.py`: Detecci√≥n y mitigaci√≥n de sesgos
   - `ethics_engine.py`: Motor de evaluaci√≥n √©tica
   - `fairness_optimizer.py`: Optimizador de equidad en resultados
   - `moral_reasoning.py`: Sistema de razonamiento moral

4. **Modelos Avanzados (app/ml/aura/models/)**
   - `gnn_models.py`: Modelos de redes neuronales de grafos
   - `transformers_models.py`: Modelos basados en arquitecturas transformer
   - `embedding_models.py`: Modelos para representaci√≥n de entidades
   - `custom_bert.py`: Implementaci√≥n personalizada de BERT para dominio espec√≠fico

5. **Conectores Externos (app/ml/aura/connectors/)**
   - `linkedin_connector.py`: Conector a LinkedIn
   - `contacts_connector.py`: Conector a sistemas de contactos
   - `icloud_connector.py`: Conector a servicios iCloud
   - `crm_connector.py`: Conector a sistemas CRM
   - `api_connector.py`: Conector gen√©rico para APIs externas

**Flujos y mejores pr√°cticas:**
- Actualizar segmentos peri√≥dicamente seg√∫n resultados y feedback.
- Usar A/B testing y cohortes para optimizaci√≥n.
- Monitorear m√©tricas de segmentaci√≥n y conversi√≥n.

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| POST   | /api/aura/segment/                    | Crear segmento                     |
| GET    | /api/aura/segments/                   | Listar segmentos                   |
| POST   | /api/aura/score/                      | Calcular scoring                   |

**Requerimientos de datos:**
- Tabla aura_segments: id, name, rules_json, bu, created_at.
- Tabla aura_scores: id, segment_id, user_id, score, updated_at.

**Ejemplo de payload:**
```json
{
  "name": "Senior Data Science",
  "rules": {"skills": ["Python", "ML"], "experiencia": ">5"}
}
```

**Caracter√≠sticas y Capacidades Clave de AURA:**

1. **An√°lisis Multidimensional**: AURA eval√∫a candidatos en m√∫ltiples dimensiones:
   - Compatibilidad profesional y t√©cnica
   - Alineaci√≥n cultural y de valores
   - Patrones energ√©ticos y vibracionales
   - Potencial de crecimiento y desarrollo
   - Sinergia de equipo y colaboraci√≥n

2. **Proceso de Evaluaci√≥n Hol√≠stica**:
   - Extracci√≥n y enriquecimiento de datos del candidato
   - An√°lisis de compatibilidad con posiciones espec√≠ficas
   - Generaci√≥n de insights personalizados
   - Recomendaciones basadas en patrones energ√©ticos y profesionales

3. **Base Cient√≠fica y Metodol√≥gica:**
   - Algoritmos de grafos neuronales (GNN) para modelar relaciones complejas
   - T√©cnicas avanzadas de procesamiento del lenguaje natural (NLP) para an√°lisis sem√°ntico
   - Sistemas de aprendizaje por refuerzo para mejora continua
   - Modelos bayesianos para evaluaci√≥n de incertidumbre y confianza
   - Framework OCEAN para an√°lisis de personalidad (Openness, Conscientiousness, Extraversion, Agreeableness, Neuroticism)

4. **Sistema de Retroalimentaci√≥n y Mejora Continua:**
   - Retroalimentaci√≥n expl√≠cita de consultores y reclutadores
   - M√©tricas de √©xito post-contrataci√≥n
   - An√°lisis de conversi√≥n y retenci√≥n
   - Validaci√≥n cruzada con evaluaciones tradicionales
   - Monitoreo constante de precisi√≥n y efectividad

**Relaci√≥n con otros m√≥dulos:**
- Alimenta Publish, Chatbot, Assessments y el motor de retargeting.
- Se retroalimenta con m√©tricas y feedback de campa√±as.

---

### 3.3 Gamification Analytics
**Descripci√≥n extendida:**
Anal√≠tica avanzada de engagement, retenci√≥n y churn. Modelos de predicci√≥n de abandono, optimizaci√≥n de recompensas y motivadores personalizados.

**Flujos y mejores pr√°cticas:**
- Monitorear engagement y churn en tiempo real.
- Ajustar reglas de gamificaci√≥n seg√∫n predicciones.
- Usar cohortes y A/B testing para validar cambios.

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| GET    | /api/gamif-analytics/engagement/      | M√©tricas de engagement             |
| GET    | /api/gamif-analytics/churn/           | Predicci√≥n de abandono             |

**Requerimientos de datos:**
- Tabla gamif_engagement: id, user_id, score, timestamp.
- Tabla gamif_churn: id, user_id, probability, timestamp.

**Ejemplo de payload:**
```json
{
  "user_id": 88
}
```

**Relaci√≥n con otros m√≥dulos:**
- Alimenta dashboards de engagement y retenci√≥n.
- Se retroalimenta con acciones de gamificaci√≥n y feedback de usuarios.

---

### 3.4 Analyzers
**Descripci√≥n extendida:**
Conjunto de analizadores ML para CV, skills, talento, mercado, feedback, etc. Cada analyzer extrae insights, calcula scoring y alimenta el perfil ML de candidatos y campa√±as.

**Flujos y mejores pr√°cticas:**
- Ejecutar analyzers tras cada evento relevante (nueva aplicaci√≥n, assessment, feedback).
- Mantener logs y versionado de modelos.
- Validar outputs y ajustar thresholds seg√∫n resultados.

**Endpoints principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| GET    | /api/analyzers/                       | Listar analyzers                   |
| POST   | /api/analyzers/run/                   | Ejecutar analyzer                  |
| GET    | /api/analyzers/{id}/results/          | Resultados de analyzer             |

**Requerimientos de datos:**
- Tabla analyzers: id, name, type, config_json, last_run.
- Tabla analyzer_results: id, analyzer_id, entity_id, score, output_json, timestamp.

**Ejemplo de payload:**
```json
{
  "analyzer_id": 2,
  "entity_id": 123
}
```

**Relaci√≥n con otros m√≥dulos:**
- Alimenta Assessments, Publish, Chatbot, Workflow y el motor de matchmaking ML.
- Se retroalimenta con feedback y resultados de campa√±as y evaluaciones.

---

## Relaci√≥n ATS ‚Üî ML: Flujo de Datos y Aprendizaje

- Cada interacci√≥n en ATS (aplicaci√≥n, assessment, feedback, conversaci√≥n) genera datos que alimentan los analyzers ML.
- Los analyzers actualizan el perfil de candidatos, campa√±as y segmentos, mejorando el matchmaking y la personalizaci√≥n.
- Los resultados de ML (scoring, recomendaciones, predicciones) retroalimentan los flujos de ATS, optimizando la experiencia y los resultados de negocio.

```mermaid
flowchart TD
  ATS_EVENT["Evento ATS (aplicaci√≥n, assessment, feedback, chat)"] --> ANALYZER["Analyzer ML"]
  ANALYZER --> PERFIL["Perfil ML actualizado"]
  PERFIL --> MATCH["Matchmaking y recomendaciones"]
  MATCH --> ATS_FLOW["Flujos ATS optimizados"]
  ATS_FLOW --> ATS_EVENT
```

---

## 4. Integraciones & APIs
- **APIs externas:** WhatsApp, Telegram, Email, Slack, Google Calendar, LinkedIn, Indeed, Stripe, PayPal, SendGrid, Webhooks, etc.
- **Sincronizaci√≥n en tiempo real:** Websockets, eventos, colas, cache warming, callbacks.
- **Automatizaci√≥n de flujos:** Webhooks, triggers, tareas programadas, integraci√≥n con CRMs, ERPs, bolsas de trabajo.
- **Gesti√≥n de errores y m√©tricas:** Logging, alertas, dashboards de integraciones.

---

## 5. UI/UX Moderno

### Diagrama de Componentes UI/UX
```mermaid
flowchart TD
  UIUX["UI/UX Moderno"]
  subgraph UIUX_Mods["Componentes UI/UX"]
    UIUX_DASH["Dashboards\n- Personalizables\n- Kanban\n- Analytics visual"]
    UIUX_MENUS["Men√∫s din√°micos\n- Acceso por rol\n- Temas din√°micos"]
    UIUX_DRAG["Drag & Drop\n- Gesti√≥n de vacantes\n- Workflows"]
    UIUX_GAMIF["Gamificaci√≥n visual\n- Logros\n- Leaderboard\n- Animaciones"]
    UIUX_RESP["Responsive\n- Mobile first\n- Accesibilidad"]
  end
  UIUX --> UIUX_DASH
  UIUX --> UIUX_MENUS
  UIUX --> UIUX_DRAG
  UIUX --> UIUX_GAMIF
  UIUX --> UIUX_RESP

  UIUX_DASH -->|"Muestra"| ATS_CHATBOT
  UIUX_DASH -->|"Muestra"| ATS_PUBLISH
  UIUX_DASH -->|"Muestra"| ML_GENIA
  UIUX_DASH -->|"Muestra"| ML_AURA
  UIUX_GAMIF -->|"Visualiza"| ATS_GAMIF
  UIUX_MENUS -->|"Acceso"| CORE
  UIUX_DRAG -->|"Gestiona"| ATS_PUBLISH
  UIUX_DRAG -->|"Gestiona"| ATS_CHATBOT
  UIUX_RESP -->|"Optimiza"| Todos
```

- **Glassmorphism, micro-interacciones, drag & drop, kanban boards, cards, animaciones, temas din√°micos y dise√±o responsivo.**
- **Men√∫s din√°micos, dashboards personalizables, experiencia visual de clase mundial, accesibilidad y soporte multiling√ºe.**

---

## 6. Seguridad y Compliance

### Diagrama de Componentes de Seguridad
```mermaid
flowchart TD
  SEGURIDAD["Seguridad & Compliance"]
  subgraph SEGURIDAD_Mods["Componentes de Seguridad"]
    SEG_ENC["Encriptaci√≥n\n- Datos en tr√°nsito\n- Datos en reposo"]
    SEG_MFA["MFA\n- Autenticaci√≥n 2FA\n- Pol√≠ticas de acceso"]
    SEG_AUDIT["Auditor√≠a\n- Logging\n- Monitoreo continuo"]
    SEG_THREAT["Detecci√≥n de amenazas\n- SQLi\n- XSS\n- Brute force"]
    SEG_COMPL["Compliance\n- GDPR\n- SOC2\n- ISO27001\n- HIPAA"]
  end
  SEGURIDAD --> SEG_ENC
  SEGURIDAD --> SEG_MFA
  SEGURIDAD --> SEG_AUDIT
  SEGURIDAD --> SEG_THREAT
  SEGURIDAD --> SEG_COMPL

  SEG_ENC -->|"Protege"| ATS
  SEG_MFA -->|"Asegura"| CORE
  SEG_AUDIT -->|"Monitorea"| Todos
  SEG_THREAT -->|"Defiende"| Todos
  SEG_COMPL -->|"Certifica"| Todos
```

- **Encriptaci√≥n avanzada de datos en tr√°nsito y en reposo, MFA, auditor√≠a, detecci√≥n de amenazas, cumplimiento GDPR, SOC2, ISO27001, CCPA, HIPAA, pol√≠ticas de acceso, roles y permisos avanzados.**

---

## 7. Escalabilidad Global

### Diagrama de Componentes de Escalabilidad
```mermaid
flowchart TD
  ESCALABILIDAD["Escalabilidad Global"]
  subgraph ESCALABILIDAD_Mods["Componentes de Escalabilidad"]
    ESC_MICRO["Microservicios\n- Modularidad\n- Independencia"]
    ESC_MULTI["Multi-tenant\n- Separaci√≥n de clientes\n- Personalizaci√≥n"]
    ESC_BALANCE["Balanceo de carga\n- Alta disponibilidad"]
    ESC_CDN["CDN\n- Distribuci√≥n global"]
    ESC_CACHE["Cache distribuido\n- Redis\n- Performance"]
    ESC_REGION["Multi-regi√≥n\n- Despliegue global"]
  end
  ESCALABILIDAD --> ESC_MICRO
  ESCALABILIDAD --> ESC_MULTI
  ESCALABILIDAD --> ESC_BALANCE
  ESCALABILIDAD --> ESC_CDN
  ESCALABILIDAD --> ESC_CACHE
  ESCALABILIDAD --> ESC_REGION

  ESC_MICRO -->|"Permite"| Todos
  ESC_MULTI -->|"Personaliza"| ATS
  ESC_BALANCE -->|"Optimiza"| Todos
  ESC_CDN -->|"Acelera"| UIUX
  ESC_CACHE -->|"Mejora"| ML
  ESC_REGION -->|"Expande"| Todos
```

- **Microservicios, multi-tenant, balanceo de carga, CDN, cache distribuido, despliegue multi-regi√≥n, soporte internacional.**

---

## 8. Infraestructura y Tecnolog√≠a
- **Backend:** Django 4.2+, Django REST Framework, Celery, ASGI, asyncio.
- **Base de Datos:** PostgreSQL, Redis (cache avanzado).
- **Machine Learning:** TensorFlow, Scikit-learn, Hugging Face, spaCy, TextBlob.
- **Frontend/UI:** CSS avanzado, HTML5, integraci√≥n con frameworks modernos.
- **Contenerizaci√≥n:** Docker, Docker Compose.
- **Monitoreo:** Sentry, Prometheus, Django Silk.

---

## 9. Instalaci√≥n y Configuraci√≥n

1. Clona el repositorio:
   ```bash
   git clone https://github.com/Grupo-huntRED/Grupo-huntRED-Chatbot.git
   cd Grupo-huntRED-Chatbot
   ```
2. Instala dependencias:
   ```bash
   pip install -r requirements.txt
   ```
3. Configura variables de entorno y servicios externos (ver `.env.example`).
4. Ejecuta migraciones y arranca los servicios:
   ```bash
   python manage.py migrate
   python manage.py runserver
   # Para Celery y workers
   celery -A ai_huntred.celery_app worker -l info
   ```
5. Accede a la plataforma en `http://localhost:8000`

---

## 10. Documentaci√≥n y Recursos
- [Gu√≠a de Integraci√≥n del Chatbot](docs/CHATBOT_INTEGRATION_GUIDE.md)
- [Gu√≠a T√©cnica de AURA y GenIA](docs/AURA_COMPLETE_GUIDE.md)
- [Documentaci√≥n de Arquitectura](docs/architecture.md)
- [Gu√≠a de UI/UX](static/css/advanced-ui-system.css)
- [Ejemplos de Workflows y Flujos por BU](docs/technical/workflows.md)

---

## 11. Contribuci√≥n y Soporte
- Pull requests y sugerencias son bienvenidas.
- Para soporte, abre un issue o contacta a soporte@huntred.com

---

## 12. Licencia

Este proyecto es propiedad de Grupo huntRED¬Æ y est√° protegido por derechos de autor. Uso comercial, distribuci√≥n y sublicenciamiento requieren autorizaci√≥n expresa.

---

## 13. M√≥dulo de Marketing & Campa√±as Inteligentes (Motor huntRED¬Æ Publish)

### Visi√≥n General

El m√≥dulo **huntRED¬Æ Publish** es el motor centralizado de marketing, campa√±as y orquestaci√≥n multicanal de Grupo huntRED¬Æ, dise√±ado para potenciar la atracci√≥n de clientes y candidatos a trav√©s de campa√±as inteligentes, automatizadas y calendarizadas, con integraci√≥n total de IA (AURA, GenIA), anal√≠tica avanzada, retargeting, flujos de aprobaci√≥n y firma digital, y dashboards de monitoreo en tiempo real.

#### Alcance y Unidades de Negocio
- **huntRED¬Æ executive, huntRED¬Æ, huntRED¬Æ Inspiration, huntRED¬Æ Experience, huntU, amigro, huntRED¬Æ Solutions**: Cada BU puede lanzar campa√±as, segmentar audiencias, calendarizar lanzamientos, automatizar publicaciones y medir resultados, todo desde un solo panel.
- **huntRED¬Æ Solutions**: Este motor permite an√°lisis avanzados y consultor√≠a de marketing para clientes externos, con potencial de monetizaci√≥n y escalabilidad global.

### Mapa de Funcionalidades

#### 1. Gesti√≥n Integral de Campa√±as
- Creaci√≥n, edici√≥n, calendarizaci√≥n y publicaci√≥n de campa√±as multicanal (redes sociales, bolsas de trabajo, email, WhatsApp, Telegram, web, etc.).
- Fases de campa√±a: Expectativa, Lanzamiento, Consolidaci√≥n, Retargeting.
- Objetivos claros: Atracci√≥n de clientes, candidatos, awareness, engagement, conversi√≥n.

#### 2. Segmentaci√≥n y Targeting Inteligente (AURA)
- Segmentaci√≥n demogr√°fica, profesional, comportamental y predictiva.
- Motor de audiencias din√°micas: actualizaci√≥n autom√°tica seg√∫n comportamiento y resultados.
- Integraci√≥n con AURA para clustering, scoring y recomendaciones de targeting.

#### 3. Retargeting y Automatizaci√≥n
- Motor de retargeting inteligente: re-engagement de leads, triggers autom√°ticos, campa√±as adaptativas.
- Automatizaci√≥n de env√≠os, recordatorios, publicaciones y seguimiento.
- Integraci√≥n con Celery para tareas peri√≥dicas y eventos.

#### 4. Integraci√≥n Multicanal y APIs
- Publicaci√≥n directa en LinkedIn, Indeed, OCC, Glassdoor, Monster, Telegram, WhatsApp, Email, Google Calendar.
- Sincronizaci√≥n de eventos y entrevistas con Google Calendar.
- Webhooks y APIs para integraci√≥n con sistemas externos.

#### 5. Generaci√≥n Inteligente de Contenido (GenIA)
- Plantillas din√°micas para posts, emails, anuncios, landing pages, webinars, blogs.
- Generaci√≥n autom√°tica y personalizada de contenido por fase, canal, audiencia y BU.
- Sugerencias creativas y optimizaci√≥n SEO.

#### 6. Workflow de Aprobaci√≥n y Firma Digital
- Flujos de aprobaci√≥n multinivel para campa√±as y contenidos.
- Registro de revisiones, comentarios y cambios.
- Firma digital integrada (DocuSign, Adobe Sign, firma biom√©trica).
- Auditor√≠a y trazabilidad completa.

#### 7. Anal√≠tica y Dashboards Avanzados
- M√©tricas de alcance, conversi√≥n, engagement, ROI, retenci√≥n, efectividad de canales y segmentos.
- Dashboards personalizables por BU, campa√±a, canal y segmento.
- Alertas, reporting autom√°tico y exportaci√≥n de datos.

#### 8. Monitoreo, Compliance y Escalabilidad
- Auditor√≠a de acciones, logs de cambios, cumplimiento normativo (GDPR, CCPA, etc.).
- Escalabilidad multi-BU, multi-tenant y multi-regi√≥n.
- Soporte para marketplace de campa√±as y servicios premium.

### Diagrama de Flujo de Funcionalidades

```mermaid
flowchart TD
  CAMPANA["Campa√±a Inteligente"]
  SEGMENTA["Segmentaci√≥n AURA"]
  RETARGET["Retargeting"]
  CONTENIDO["Generaci√≥n de Contenido GenIA"]
  APROBACION["Aprobaci√≥n & Firma"]
  PUBLICA["Publicaci√≥n Multicanal"]
  CALENDAR["Calendarizaci√≥n & Google Calendar"]
  ANALYTICS["Analytics & Dashboards"]
  MONITOREO["Monitoreo & Compliance"]

  CAMPANA --> SEGMENTA
  CAMPANA --> CONTENIDO
  CAMPANA --> CALENDAR
  CAMPANA --> APROBACION
  SEGMENTA --> RETARGET
  SEGMENTA --> PUBLICA
  RETARGET --> PUBLICA
  CONTENIDO --> PUBLICA
  APROBACION --> PUBLICA
  PUBLICA --> CALENDAR
  PUBLICA --> ANALYTICS
  PUBLICA --> MONITOREO
  ANALYTICS --> MONITOREO
```

### Modelos y Componentes Clave
- **Campaign, CampaignPhase, CampaignApproval, CampaignSignature, CampaignMetric, CampaignAuditLog**
- **Segment, Audience, RetargetingRule, ContentTemplate, Channel, JobBoardIntegration, CalendarEvent**
- **Dashboards avanzados en Django Admin para campa√±as, m√©tricas, aprobaciones y logs**

### Automatizaciones y Tareas Peri√≥dicas
- Generaci√≥n y env√≠o autom√°tico de contenido y campa√±as.
- Actualizaci√≥n de segmentos y audiencias.
- Publicaci√≥n programada en bolsas y redes.
- Recordatorios y seguimiento automatizado.

### Ejemplo de Fases y Contenido de Campa√±a
| Fase         | Objetivo                        | Contenido Sugerido (GenIA)                                   |
|--------------|---------------------------------|--------------------------------------------------------------|
| Expectativa  | Generar inter√©s y awareness     | Teasers, posts de intriga, emails de pre-lanzamiento         |
| Lanzamiento  | Captar leads y candidatos       | Anuncios, posts destacados, webinars, landing pages          |
| Consolidaci√≥n| Engagement y conversi√≥n         | Testimonios, casos de √©xito, recordatorios, ofertas exclusivas|
| Retargeting  | Re-engagement y cierre          | Emails personalizados, mensajes directos, ofertas limitadas  |

### Flujos de Aprobaci√≥n y Firma Digital
- **Creaci√≥n de campa√±a** ‚Üí **Revisi√≥n** ‚Üí **Aprobaci√≥n** ‚Üí **Firma digital** ‚Üí **Publicaci√≥n**
- Trazabilidad completa, control de calidad, cumplimiento y escalabilidad.

### Potencial de Monetizaci√≥n
- Licenciamiento, servicios premium, marketplace de campa√±as, fees por performance.

### Futuro: huntRED¬Æ Solutions
- El motor puede ser la base para servicios avanzados de an√°lisis y consultor√≠a de marketing para clientes externos, con integraci√≥n total a la plataforma huntRED¬Æ.

### 13.1 Arquitectura y Modelos del M√≥dulo Publish

#### Modelos Principales
- **Campaign**: Representa una campa√±a de marketing/captaci√≥n. Incluye nombre, BU, objetivos, fases, canales, segmentos, fechas, estado, responsables, presupuesto, m√©tricas asociadas.
- **CampaignPhase**: Fases (expectativa, lanzamiento, consolidaci√≥n, retargeting), con fechas, contenido, objetivos, instrucciones y calendarizaci√≥n.
- **CampaignApproval**: Flujo de revisiones, responsables, comentarios, timestamps, estado (pendiente, aprobado, rechazado).
- **CampaignSignature**: Firma digital, usuario, m√©todo (DocuSign, biom√©trica), hash, fecha, validez legal.
- **CampaignMetric**: M√©tricas de alcance, conversi√≥n, engagement, ROI, por canal, segmento, fase y BU.
- **CampaignAuditLog**: Registro de acciones, cambios, aprobaciones, incidencias, usuario, timestamp.
- **Segment**: Definici√≥n de segmentos (demogr√°ficos, profesionales, comportamentales, predictivos), reglas, criterios, integraci√≥n AURA.
- **Audience**: Audiencias din√°micas, actualizaci√≥n autom√°tica, historial de interacci√≥n.
- **RetargetingRule**: Reglas de re-engagement, triggers, condiciones, acciones autom√°ticas.
- **ContentTemplate**: Plantillas din√°micas para cada canal, fase, idioma, BU, con variables y l√≥gica condicional.
- **Channel**: Canales soportados (LinkedIn, WhatsApp, Telegram, Email, Web, Google Calendar, bolsas de trabajo).
- **JobBoardIntegration**: Configuraci√≥n y estado de integraci√≥n con bolsas externas (Indeed, OCC, Glassdoor, Monster, etc.).
- **CalendarEvent**: Eventos calendarizados, integraci√≥n Google Calendar, recordatorios, sincronizaci√≥n.

#### Relaciones y Flujos de Datos
```mermaid
erDiagram
  Campaign ||--o{ CampaignPhase : contiene
  Campaign ||--o{ CampaignApproval : requiere
  Campaign ||--o{ CampaignSignature : firma
  Campaign ||--o{ CampaignMetric : mide
  Campaign ||--o{ CampaignAuditLog : audita
  Campaign ||--o{ Segment : segmenta
  Segment ||--o{ Audience : agrupa
  Campaign ||--o{ RetargetingRule : reimpacta
  CampaignPhase ||--o{ ContentTemplate : usa
  Campaign ||--o{ Channel : publica
  Campaign ||--o{ JobBoardIntegration : integra
  Campaign ||--o{ CalendarEvent : agenda
```

---

### 13.2 Ciclo de Vida de una Campa√±a Inteligente
1. **Ideaci√≥n y Creaci√≥n**: Selecci√≥n de BU, objetivos, canales, presupuesto, responsables.
2. **Segmentaci√≥n**: Definici√≥n de segmentos y audiencias con AURA (demogr√°ficos, skills, comportamiento, predicci√≥n de √©xito).
3. **Generaci√≥n de Contenido**: Uso de plantillas GenIA, personalizaci√≥n por fase, canal, idioma, BU.
4. **Calendarizaci√≥n**: Asignaci√≥n de fechas, eventos, recordatorios, integraci√≥n Google Calendar.
5. **Aprobaci√≥n y Firma**: Flujo multinivel, revisiones, comentarios, firma digital, compliance.
6. **Publicaci√≥n Multicanal**: Automatizada en redes, bolsas, email, chat, web, calendar.
7. **Automatizaci√≥n y Retargeting**: Triggers, reglas, re-engagement, seguimiento autom√°tico.
8. **Monitoreo y M√©tricas**: Dashboards en tiempo real, alertas, reporting, exportaci√≥n.
9. **Cierre y An√°lisis**: Evaluaci√≥n de resultados, feedback, logs, aprendizaje para futuras campa√±as.

---

### 13.3 Automatizaciones y L√≥gica de Negocio
- **Tareas peri√≥dicas (Celery):**
  - Generaci√≥n y env√≠o de contenido.
  - Actualizaci√≥n de segmentos y audiencias.
  - Publicaci√≥n programada y seguimiento.
  - Recordatorios y alertas autom√°ticas.
  - Recolecta y an√°lisis de m√©tricas.
- **Triggers y eventos:**
  - Cambios de estado de campa√±a/fase.
  - Interacciones de usuarios (apertura, clic, respuesta).
  - Resultados de retargeting y engagement.
- **Fallback y resiliencia:**
  - Reintentos autom√°ticos, logs de error, alertas a admins.

---

### 13.4 Integraci√≥n Multicanal y APIs
- **LinkedIn, WhatsApp, Telegram, Email, Web:**
  - Autenticaci√≥n OAuth/API Key, callbacks, manejo de errores, reporting de entregas.
  - Personalizaci√≥n de mensajes, adjuntos, multimedia.
- **Google Calendar:**
  - Creaci√≥n y actualizaci√≥n de eventos, recordatorios, sincronizaci√≥n bidireccional.
- **Bolsas de trabajo (Indeed, OCC, Glassdoor, Monster):**
  - Publicaci√≥n autom√°tica, scraping de resultados, tracking de postulaciones.
- **Webhooks y APIs externas:**
  - Integraci√≥n con CRMs, ERPs, sistemas de clientes.

---

### 13.5 Dashboards y Vistas Admin
- **Dashboards avanzados:**
  - Filtros por BU, campa√±a, canal, segmento, fase, fecha.
  - Visualizaciones: gr√°ficos de conversi√≥n, embudos, mapas de calor, cohortes, comparativas.
  - Exportaci√≥n a Excel, PDF, API.
  - Alertas configurables (umbral de conversi√≥n, engagement bajo, incidencias).
- **Vistas admin:**
  - Gesti√≥n de campa√±as, fases, aprobaciones, firmas, m√©tricas, logs.
  - Workflows visuales, historial de cambios, auditor√≠a.

---

### 13.6 Ejemplos de Casos de Uso por Unidad de Negocio
- **huntRED¬Æ executive:** Campa√±as de headhunting premium, targeting por skills y seniority, retargeting a ejecutivos pasivos.
- **huntRED¬Æ:** Campa√±as masivas de atracci√≥n, integraci√≥n con bolsas, webinars, retargeting a candidatos inactivos.
- **huntRED¬Æ Inspiration:** Inclusi√≥n laboral, campa√±as segmentadas por discapacidad, contenido accesible, integraci√≥n con ONGs.
- **huntRED¬Æ Experience:** Atracci√≥n de talento senior, campa√±as de mentoring, eventos calendarizados, retargeting por experiencia.
- **huntU:** Campa√±as universitarias, ferias de empleo, integraci√≥n con bolsas universitarias, retargeting a egresados.
- **amigro:** Campa√±as de integraci√≥n migrante, contenido multiling√ºe, segmentaci√≥n por pa√≠s de origen, retargeting a comunidades.
- **huntRED¬Æ Solutions:** Consultor√≠a avanzada, an√°lisis de campa√±as de clientes, dashboards personalizados, reporting ejecutivo.

---

### 13.7 Segmentaci√≥n Avanzada y Retargeting (AURA + GenIA)
- **Segmentaci√≥n din√°mica:**
  - Por perfil profesional, skills, historial de interacci√≥n, engagement, predicci√≥n de √©xito.
  - Actualizaci√≥n autom√°tica seg√∫n resultados y feedback.
- **Retargeting inteligente:**
  - Reglas adaptativas, triggers por comportamiento, personalizaci√≥n de mensajes y canales.
  - Integraci√≥n con GenIA para generaci√≥n de contenido espec√≠fico de re-engagement.

---

### 13.8 Compliance, Seguridad y Auditor√≠a
- **Flujos de aprobaci√≥n y firma digital:**
  - Registro de revisiones, comentarios, responsables, timestamps, hash de documentos.
  - Integraci√≥n con DocuSign, Adobe Sign, firma biom√©trica.
- **Auditor√≠a y logs:**
  - Registro de todas las acciones, cambios, incidencias, accesos.
  - Exportaci√≥n y reporting para compliance (GDPR, CCPA, ISO, SOC2).
- **Seguridad:**
  - Encriptaci√≥n de datos, control de acceso granular, MFA, alertas de seguridad.

---

### 13.9 Personalizaci√≥n, Escalabilidad y Futuro
- **Multi-BU, multi-idioma, multi-regi√≥n:**
  - Personalizaci√≥n de campa√±as, contenido, m√©tricas y dashboards por unidad, idioma y regi√≥n.
- **Marketplace de campa√±as y servicios premium:**
  - Plantillas, automatizaciones, anal√≠tica avanzada como productos.
- **Integraci√≥n con huntRED¬Æ Solutions:**
  - Exportaci√≥n de datos, dashboards ejecutivos, consultor√≠a avanzada, integraci√≥n con sistemas de clientes.

---

### 13.10 Glosario de T√©rminos y Roles
- **BU:** Unidad de Negocio (ejecutive, Inspiration, Experience, etc.)
- **AURA:** Motor de segmentaci√≥n y anal√≠tica predictiva.
- **GenIA:** Motor de generaci√≥n de contenido inteligente.
- **Retargeting:** Estrategia de re-impacto a leads/candidatos no convertidos.
- **Celery:** Sistema de tareas as√≠ncronas y automatizaci√≥n.
- **Admin:** Usuario con permisos de gesti√≥n y monitoreo.
- **Responsable de campa√±a:** Usuario encargado de la creaci√≥n, seguimiento y resultados de campa√±as.
- **Aprobador:** Usuario con permisos para revisar y aprobar campa√±as/contenido.
- **Firmante:** Usuario autorizado para firma digital y validaci√≥n legal.

---

### 13.11 Diagrama de Flujo de Usuario y Datos
```mermaid
flowchart TD
  U["Usuario/Admin"] -->|Crea| C["Campa√±a"]
  C -->|Define| S["Segmento/Audiencia"]
  C -->|Genera| CT["Contenido (GenIA)"]
  C -->|Calendariza| EV["Evento Calendar"]
  C -->|Solicita| AP["Aprobaci√≥n"]
  AP -->|Firma| F["Firma Digital"]
  C -->|Publica| CH["Canal/Bolsa"]
  CH -->|Entrega| AU["Audiencia"]
  AU -->|Interacciona| M["M√©tricas"]
  M -->|Alimenta| RT["Retargeting"]
  C -->|Monitorea| D["Dashboard"]
  D -->|Audita| L["Logs/Auditor√≠a"]
```

---

### 13.12 Ejemplos de Payloads y Endpoints API

#### Crear una campa√±a (POST /api/publish/campaign/)
```json
{
  "name": "Campa√±a Talento Senior 2025",
  "business_unit": "huntRED Experience",
  "objectives": ["Atracci√≥n de talento senior", "Engagement"],
  "phases": [
    {"name": "Expectativa", "start_date": "2025-01-10", "end_date": "2025-01-20"},
    {"name": "Lanzamiento", "start_date": "2025-01-21", "end_date": "2025-02-10"}
  ],
  "channels": ["LinkedIn", "Email", "Google Calendar"],
  "segments": [1, 2],
  "budget": 5000
}
```

#### Respuesta exitosa
```json
{
  "id": 101,
  "status": "pending_approval",
  "created_at": "2025-01-05T12:00:00Z"
}
```

#### Ejemplo de endpoint para m√©tricas de campa√±a (GET /api/publish/campaign/101/metrics/)
```json
{
  "reach": 12000,
  "clicks": 950,
  "applications": 120,
  "conversion_rate": 0.126,
  "engagement_score": 87,
  "by_channel": {
    "LinkedIn": {"reach": 8000, "applications": 80},
    "Email": {"reach": 3000, "applications": 30},
    "Google Calendar": {"events": 10, "attendance": 7}
  }
}
```

#### Fragmento de automatizaci√≥n (Python/Celery)
```python
from app.ats.publish.tasks import send_campaign_content
send_campaign_content.apply_async(args=[campaign_id], eta=scheduled_time)
```

---

### 13.13 Ejemplo de Plantilla de Contenido Din√°mico

```jinja
Asunto: ¬°{{ campaign.name }} ya est√° aqu√≠!

Hola {{ user.first_name }},

Te invitamos a participar en la campa√±a {{ campaign.name }} de {{ campaign.business_unit }}.

{{ phase.instructions }}

Para m√°s informaci√≥n, visita: {{ campaign.landing_page_url }}

--
Equipo huntRED¬Æ
```

- Variables soportadas: `{{ user.first_name }}`, `{{ campaign.name }}`, `{{ campaign.business_unit }}`, `{{ phase.instructions }}`, `{{ campaign.landing_page_url }}`
- Soporte para condicionales, loops y traducci√≥n autom√°tica.

---

### 13.14 Ejemplo de M√©tricas y Dashboard

| M√©trica              | Descripci√≥n                                 | Ejemplo |
|----------------------|---------------------------------------------|---------|
| Alcance (reach)      | Personas impactadas por la campa√±a          | 12,000  |
| Clics                | Interacciones en enlaces/contenido          | 950     |
| Aplicaciones         | Candidatos que aplicaron                    | 120     |
| Tasa de conversi√≥n   | Aplicaciones / Alcance                      | 12.6%   |
| Engagement Score     | √çndice ponderado de interacci√≥n             | 87      |
| ROI                  | Retorno sobre inversi√≥n                     | 3.2     |
| Retargeting Impact   | % de leads recuperados por retargeting      | 18%     |

#### Visualizaci√≥n de Dashboard (ejemplo)
```mermaid
flowchart LR
  A[Alcance] --> B[Clics]
  B --> C[Aplicaciones]
  C --> D[Contrataciones]
  C --> E[Retargeting]
  E --> C
  D --> F[ROI]
```

---

### 13.15 Buenas Pr√°cticas de Operaci√≥n y Mantenimiento
- **Checklist para admins y responsables de campa√±a:**
  - Revisar y actualizar segmentos y audiencias antes de cada campa√±a.
  - Validar plantillas y contenido en todos los canales y dispositivos.
  - Calendarizar revisiones y aprobaciones con antelaci√≥n.
  - Monitorear dashboards y configurar alertas de m√©tricas clave.
  - Documentar aprendizajes y feedback tras cada campa√±a.
- **Recomendaciones para escalar y asegurar calidad:**
  - Usar automatizaciones para tareas repetitivas y reporting.
  - Realizar pruebas de integraci√≥n antes de lanzar nuevas conexiones API.
  - Mantener logs y auditor√≠a activos para trazabilidad y compliance.
  - Capacitar a los equipos en el uso de dashboards y workflows.

---

### 13.16 Ejemplo de Flujo de Error y Fallback
- **Escenario:** Falla la publicaci√≥n en LinkedIn por error de autenticaci√≥n.
- **Flujo:**
  1. El sistema detecta el error y lo registra en `CampaignAuditLog`.
  2. Se reintenta la publicaci√≥n hasta 3 veces (con backoff exponencial).
  3. Si persiste el error, se notifica autom√°ticamente al admin responsable y se sugiere acci√≥n manual.
  4. El dashboard muestra la incidencia y el estado pendiente de resoluci√≥n.
  5. Una vez resuelto, se puede reintentar la acci√≥n desde la vista admin.
- **Ventajas:** Resiliencia, trazabilidad, m√≠nima p√©rdida de oportunidades.

---

### 13.17 Mantener la Documentaci√≥n Viva
- **Proceso recomendado:**
  - Actualizar el README.md tras cada release mayor o cambio estructural.
  - Documentar endpoints, modelos y flujos nuevos en la secci√≥n correspondiente.
  - Incluir ejemplos de payloads y casos de uso reales.
  - Revisar y mejorar la documentaci√≥n tras feedback de usuarios y clientes.
  - Fomentar la colaboraci√≥n: cualquier miembro del equipo puede proponer mejoras v√≠a pull request.
- **Herramientas sugeridas:**
  - Integrar documentaci√≥n t√©cnica con herramientas como Swagger/OpenAPI para APIs.
  - Usar diagramas Mermaid para mantener flujos y relaciones actualizados.
  - Mantener un changelog y una wiki interna para detalles avanzados.

---

### 13.18 M√≥dulo Publish (Campa√±as y Marketing)

**Descripci√≥n:**
Motor centralizado para la gesti√≥n, calendarizaci√≥n y automatizaci√≥n de campa√±as multicanal, con integraci√≥n de IA, retargeting, plantillas din√°micas y m√©tricas avanzadas.

**Mejores pr√°cticas:**
- Validar objetivos, segmentos y canales antes de lanzar campa√±as.
- Calendarizar fases y automatizar recordatorios.
- Usar plantillas GenIA para personalizaci√≥n y coherencia de marca.
- Monitorear m√©tricas y ajustar campa√±as en tiempo real.
- Mantener logs de cambios y aprobaciones para auditor√≠a.

**Endpoints REST principales:**
| M√©todo | Endpoint                          | Descripci√≥n                        |
|--------|-----------------------------------|------------------------------------|
| GET    | /api/publish/campaigns/           | Listar campa√±as                    |
| POST   | /api/publish/campaigns/           | Crear campa√±a                      |
| GET    | /api/publish/campaigns/{id}/      | Detalle de campa√±a                 |
| PATCH  | /api/publish/campaigns/{id}/      | Actualizar campa√±a                 |
| POST   | /api/publish/campaigns/{id}/launch/| Lanzar campa√±a                    |
| GET    | /api/publish/campaigns/{id}/metrics/| M√©tricas de campa√±a              |
| POST   | /api/publish/campaigns/{id}/approve/| Aprobar campa√±a                  |
| POST   | /api/publish/campaigns/{id}/sign/ | Firmar digitalmente                |

**Requerimientos de base de datos:**
- Tabla campaigns: id, name, business_unit, objectives, status, created_at, updated_at, owner_id, budget.
- Tabla campaign_phases: id, campaign_id, name, start_date, end_date, instructions.
- √çndices en business_unit, status, created_at.
- Registros m√≠nimos: al menos una campa√±a activa por BU para pruebas.

**Casos de uso y recomendaciones:**
- Usar campa√±as de prueba para validar integraciones y flujos.
- Revisar m√©tricas tras cada fase y ajustar targeting/segmentos.
- Documentar aprendizajes y feedback en cada cierre de campa√±a.

**Relaci√≥n con otros m√≥dulos:**
- Consume segmentos de Segment, plantillas de ContentTemplate, m√©tricas de Metrics, y se integra con Notificaciones y Workflow.

---

### 13.19 M√≥dulo Notificaciones

**Descripci√≥n:**
Gesti√≥n de alertas, notificaciones autom√°ticas y multicanal (email, chat, SMS, push, Slack), con tracking de entregas y plantillas personalizadas.

**Mejores pr√°cticas:**
- Usar plantillas multiling√ºes y personalizadas por BU.
- Configurar alertas cr√≠ticas y de seguimiento.
- Monitorear logs de entrega y apertura.
- Mantener fallback a canales alternativos en caso de fallo.

**Endpoints REST principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| GET    | /api/notifications/                   | Listar notificaciones              |
| POST   | /api/notifications/                   | Enviar notificaci√≥n                |
| GET    | /api/notifications/{id}/              | Detalle de notificaci√≥n            |
| GET    | /api/notifications/{id}/status/       | Estado de entrega                  |
| POST   | /api/notifications/templates/         | Crear plantilla                    |

**Requerimientos de base de datos:**
- Tabla notifications: id, recipient_id, channel, status, sent_at, opened_at, template_id.
- Tabla notification_templates: id, name, content, language, bu.
- √çndices en recipient_id, channel, status.
- Registros m√≠nimos: una plantilla y una notificaci√≥n enviada por canal.

**Casos de uso y recomendaciones:**
- Configurar notificaciones autom√°ticas para eventos clave (aplicaci√≥n, entrevista, feedback).
- Usar tracking para medir efectividad y ajustar mensajes.

**Relaci√≥n con otros m√≥dulos:**
- Se dispara desde Publish, Chatbot, Workflow y Assessments.

---

### 13.20 M√≥dulo Chatbot

**Descripci√≥n:**
Chatbot conversacional multicanal (WhatsApp, Telegram, Web, Email, Slack, SMS) con workflows din√°micos, integraci√≥n ML/NLP, contexto persistente y gamificaci√≥n.

**Mejores pr√°cticas:**
- Definir flujos por BU y rol, con fallback a humano.
- Mantener contexto y estado de usuario para personalizaci√≥n.
- Integrar evaluaciones y feedback en el flujo conversacional.
- Monitorear logs de conversaci√≥n y m√©tricas de engagement.

**Endpoints REST principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| POST   | /api/chatbot/message/                 | Enviar/recibir mensaje             |
| GET    | /api/chatbot/conversations/           | Listar conversaciones              |
| GET    | /api/chatbot/conversations/{id}/      | Detalle de conversaci√≥n            |
| POST   | /api/chatbot/trigger/                 | Disparar workflow                  |
| GET    | /api/chatbot/analytics/               | M√©tricas de uso y engagement       |

**Requerimientos de base de datos:**
- Tabla conversations: id, user_id, channel, started_at, ended_at, status.
- Tabla messages: id, conversation_id, sender, content, timestamp, intent, score.
- √çndices en user_id, channel, status.
- Registros m√≠nimos: una conversaci√≥n y dos mensajes por canal.

**Casos de uso y recomendaciones:**
- Usar workflows guiados para onboarding, aplicaci√≥n y feedback.
- Analizar intents y respuestas para mejorar el NLP y la experiencia.

**Relaci√≥n con otros m√≥dulos:**
- Dispara notificaciones, assessments, workflows y gamificaci√≥n.
- Alimenta m√©tricas y segmentaci√≥n para Publish y ML.

---

### 13.21 M√≥dulo Workflow

**Descripci√≥n:**
Orquestador de procesos y flujos de negocio (aplicaci√≥n, selecci√≥n, entrevistas, onboarding, feedback), con l√≥gica condicional, triggers y tareas autom√°ticas.

**Mejores pr√°cticas:**
- Definir workflows reutilizables y versionados por BU.
- Usar triggers para automatizar tareas y notificaciones.
- Monitorear logs de ejecuci√≥n y tiempos de cada etapa.

**Endpoints REST principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| GET    | /api/workflows/                       | Listar workflows                   |
| POST   | /api/workflows/                       | Crear workflow                     |
| GET    | /api/workflows/{id}/                  | Detalle de workflow                |
| POST   | /api/workflows/{id}/trigger/          | Disparar ejecuci√≥n                 |
| GET    | /api/workflows/{id}/logs/             | Logs de ejecuci√≥n                  |

**Requerimientos de base de datos:**
- Tabla workflows: id, name, business_unit, version, status, created_at.
- Tabla workflow_steps: id, workflow_id, name, order, type, config_json.
- Tabla workflow_logs: id, workflow_id, step_id, status, started_at, ended_at.
- √çndices en business_unit, status, version.
- Registros m√≠nimos: un workflow con dos pasos y un log de ejecuci√≥n.

**Casos de uso y recomendaciones:**
- Usar workflows para automatizar procesos repetitivos y asegurar compliance.
- Versionar y documentar cambios para trazabilidad.

**Relaci√≥n con otros m√≥dulos:**
- Orquesta campa√±as, assessments, notificaciones y tareas de Publish.

---

### 13.22 M√≥dulo Assessments & Analyzers

**Descripci√≥n:**
Gesti√≥n de evaluaciones t√©cnicas, culturales, psicom√©tricas y feedback 360¬∞, con integraci√≥n directa a analyzers ML para scoring, insights y matchmaking.

**Mejores pr√°cticas:**
- Validar la integridad de los datos antes de procesar.
- Usar triggers para recalcular scoring y actualizar el perfil ML tras cada evaluaci√≥n.
- Mantener logs de cambios y resultados para auditor√≠a.

**Endpoints REST principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| GET    | /api/assessments/                     | Listar evaluaciones                |
| POST   | /api/assessments/                     | Crear evaluaci√≥n                   |
| GET    | /api/assessments/{id}/                | Detalle de evaluaci√≥n              |
| POST   | /api/assessments/{id}/submit/         | Enviar respuestas                  |
| GET    | /api/assessments/{id}/results/        | Obtener resultados y scoring       |
| GET    | /api/analyzers/                       | Listar analyzers                   |
| POST   | /api/analyzers/run/                   | Ejecutar analyzer manualmente      |

**Requerimientos de base de datos:**
- Tabla assessments: id, candidate_id, type, status, created_at, updated_at.
- Tabla assessment_questions: id, assessment_id, question_id, respuesta, score.
- Tabla analyzers: id, name, type, config_json, last_run.
- √çndices en candidate_id, type, analyzer_id.
- Registros m√≠nimos: una evaluaci√≥n, un analyzer y un resultado asociado.

**Capacidades anal√≠ticas y relaci√≥n con ML:**
- Cada assessment dispara un analyzer (ej: TechnicalSkillAnalyzer) que actualiza el perfil ML del candidato.
- Los resultados alimentan el m√≥dulo de matchmaking, mejorando la precisi√≥n de sugerencias y rankings.
- Soporte para feedback autom√°tico y manual, enriqueciendo los datos de entrenamiento ML.

**Casos de uso y recomendaciones:**
- Mantener hist√≥rico de evaluaciones para an√°lisis longitudinal.
- Permitir feedback y revisi√≥n de resultados para mejora continua.

**Relaci√≥n con otros m√≥dulos:**
- Alimenta Publish, Chatbot, Workflow y el m√≥dulo ML de matchmaking.

---

### 13.23 M√≥dulo Integraciones de Canales

**Descripci√≥n:**
Gesti√≥n y actualizaci√≥n de integraciones con canales externos (WhatsApp, Telegram, Email, LinkedIn, Google Calendar, bolsas de trabajo, etc.), con soporte para versionado y adaptaci√≥n a nuevas plataformas.

**Mejores pr√°cticas:**
- Usar configuraci√≥n centralizada y versionado para cada integraci√≥n.
- Monitorear logs de errores y cambios de API.
- Documentar endpoints, scopes y permisos requeridos.
- Implementar pruebas autom√°ticas de endpoints cr√≠ticos.

**Endpoints REST principales:**
| M√©todo | Endpoint                              | Descripci√≥n                        |
|--------|---------------------------------------|------------------------------------|
| GET    | /api/integrations/                    | Listar integraciones activas       |
| POST   | /api/integrations/                    | Registrar nueva integraci√≥n        |
| PATCH  | /api/integrations/{id}/               | Actualizar configuraci√≥n           |
| GET    | /api/integrations/{id}/status/        | Verificar estado y versi√≥n         |
| POST   | /api/integrations/{id}/test/          | Probar integraci√≥n                 |

**Requerimientos de base de datos:**
- Tabla integrations: id, name, type, config_json, status, version, last_checked.
- √çndices en name, type, status.
- Registros m√≠nimos: una integraci√≥n activa por canal principal.

**Mantenimiento y actualizaci√≥n:**
- Revisar peri√≥dicamente la documentaci√≥n oficial de cada canal.
- Si surge una nueva plataforma (ej: nueva red de META), seguir el proceso: an√°lisis de API, desarrollo de integraci√≥n, pruebas, despliegue y documentaci√≥n.
- Mantener changelog de integraciones y comunicar cambios a usuarios/admins.
- Implementar fallback y alertas ante cambios inesperados.

**Casos de uso y recomendaciones:**
- Probar integraciones tras cada actualizaci√≥n de API.
- Documentar incidencias y soluciones para futuras referencias.

**Relaci√≥n con otros m√≥dulos:**
- Soporta Publish, Notificaciones, Chatbot, Workflow y Assessments.

---

### 13.24 Extracci√≥n de Candidatos desde SmartRecruiters sin API Key (Web Scraping)

Si no cuentas con una API Key de SmartRecruiters, puedes extraer tus candidatos y CVs mediante web scraping automatizado del portal web. Esta opci√≥n es √∫til para migraciones masivas o recuperaci√≥n de datos hist√≥ricos cuando la API no est√° disponible.

#### ¬øC√≥mo funciona?
- Se utiliza un script basado en Playwright (o Selenium) que automatiza el login, la navegaci√≥n y la descarga de datos y CVs desde la interfaz web de SmartRecruiters.
- El script recorre la lista de candidatos, extrae sus datos y descarga los CVs adjuntos uno a uno.

#### Ventajas
- No requiere permisos de API ni cuenta premium.
- Permite obtener grandes vol√∫menes de datos (m√°s de 50,000 candidatos) de manera ordenada.

#### Limitaciones y advertencias
- El scraping puede romperse si SmartRecruiters cambia el dise√±o de la web.
- Puede estar limitado por captchas, autenticaci√≥n 2FA o pol√≠ticas de uso.
- Requiere mantener credenciales de usuario y manejar cookies de sesi√≥n.
- √ösalo bajo tu propio riesgo y revisa los T√©rminos de Servicio de SmartRecruiters.
- No es recomendable para automatizaciones recurrentes, solo para migraciones puntuales.

#### Requerimientos
- Python 3.8+
- playwright (`pip install playwright` y `playwright install`)
- Credenciales v√°lidas de usuario SmartRecruiters

#### Ejemplo de uso
```python
from app.ats.integrations.smartrecruiters import SmartRecruitersWebScraper
import asyncio

scraper = SmartRecruitersWebScraper(username='pablo@huntred.com', password='Latituded800!')
async def run_scraping():
    await scraper.initialize()
    await scraper.login()
    candidates = await scraper.scrape_candidates(max_pages=1000)
    await scraper.close()
    print(f"Total candidatos extra√≠dos: {len(candidates)}")

asyncio.run(run_scraping())
```

#### Recomendaciones para grandes vol√∫menes
- Divide la extracci√≥n en lotes (por ejemplo, 1000 candidatos por sesi√≥n).
- Monitorea el uso de recursos y el avance del scraping.
- Filtra y procesa solo los formatos de CV soportados (PDF, DOCX).
- Almacena los datos y CVs en tu base de datos y ejecuta el parsing con CVParser.

#### Alternativas
- Si tienes acceso a la API Key, usa la integraci√≥n oficial (m√°s robusta y escalable).
- Si necesitas una exportaci√≥n masiva y ordenada, contacta al soporte de SmartRecruiters para solicitar un dump completo de tus datos y archivos.

---